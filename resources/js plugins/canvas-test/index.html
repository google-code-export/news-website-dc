<html>
	<head>
		<style type="text/css">
			#drawTest {
				background: #FFF9BC;
			}
		</style>
		<script type="text/javascript" src="jquery-1.4.2.min.js"></script>
		<!--[if lt IE 9]>
			<script type="text/javascript" src="excanvas.min.js"></script>
		<![endif]-->
		<script type="text/javascript">
			$(function() {
				drawCanvas();
			});
			
			function drawCanvas() {
				var ctx = $("#drawTest").get(0).getContext("2d");
				
				clearCanvas(ctx);
				
				/*ctx.beginPath();
				ctx.arc(75,75,50,0,Math.PI*2,true); // Outer circle
				//ctx.moveTo(110,75);
				ctx.arc(75,75,35,0,Math.PI,false);   // Mouth (clockwise)
				//ctx.moveTo(65,65);
				ctx.arc(60,65,5,0,Math.PI*2,true);  // Left eye
				//ctx.moveTo(95,65);
				ctx.arc(90,65,5,0,Math.PI*2,true);  // Right eye
				ctx.stroke();*/
				
				// Filled triangle
				/*ctx.beginPath();
				ctx.moveTo(25,25);
				ctx.lineTo(105,25);
				ctx.lineTo(25,105);
				ctx.stroke();*/
				
				// Draw bar chart
				
				ctx.beginPath();
				ctx.moveTo(30, 20);
				ctx.lineTo(30, 271);
				ctx.lineTo(985, 271);
				ctx.lineWidth = 2;
				ctx.strokeStyle = "#144C00";
				ctx.stroke();
				
				ctx.beginPath();
				ctx.moveTo(30, 10);
				ctx.lineTo(25, 20);
				ctx.lineTo(35, 20);
				ctx.closePath();
				ctx.fillStyle = "#144C00";
				ctx.fill();
				
				ctx.beginPath();
				ctx.moveTo(985, 267);
				ctx.lineTo(985, 275);
				ctx.lineTo(995, 270);
				ctx.fillStyle = "#144C00";
				ctx.fill();				
				
				var randomValue;
				var xPos = 30, yPos;
				for (var i = 0; i < 15; i++) {
					//Draw first column
					randomValue = randomFromTo(5, 200);
					yPos = 270 - randomValue;
					xPos += 30;
					if (randomValue > 150) {
						ctx.fillStyle = "#E55638";
					} else {
						ctx.fillStyle = "#13AB60";
					}
					ctx.fillRect(xPos, yPos, 20, randomValue);
					//Draw second column
					randomValue = randomFromTo(5, 200);
					yPos = 270 - randomValue;
					xPos += 20;
					ctx.fillStyle = "#E45595";
					ctx.fillRect(xPos, yPos, 20, randomValue);
				}
			}
			
			function randomFromTo(from, to){
			   return Math.floor(Math.random() * (to - from + 1) + from);
			}
			
			function clearCanvas(ctx) {
				var _ctx = ctx;
				if (_ctx == undefined || _ctx == null) {
					_ctx = $("#drawTest").get(0).getContext("2d");
				}
				_ctx.clearRect(0,0,1000,300);
			}
		</script>
	</head>
	<body>
		<canvas id="drawTest" width="1000" height="300">
			Your browser does not support canvas.
		</canvas>
		<input type="button" onclick="drawCanvas()" value="Draw" />
		<input type="button" onclick="clearCanvas()" value="Clear" />
	</body>
</html>